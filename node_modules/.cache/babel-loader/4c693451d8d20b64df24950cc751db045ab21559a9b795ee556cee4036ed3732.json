{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jan\\\\Downloads\\\\Familien App\\\\src\\\\PhotoGallery.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { supabase } from './supabaseClient';\nimport './PhotoGallery.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PhotoGallery({\n  user\n}) {\n  _s();\n  const [photos, setPhotos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchPhotos = useCallback(async () => {\n    setLoading(true);\n    const {\n      data,\n      error\n    } = await supabase.storage.from('photos').list();\n    if (error) {\n      setError('Fehler beim Laden der Fotos.');\n      setPhotos([]);\n    } else {\n      const photoUrls = data.map(file => {\n        const {\n          data: {\n            publicUrl\n          }\n        } = supabase.storage.from('photos').getPublicUrl(file.name);\n        return {\n          ...file,\n          publicUrl\n        };\n      });\n      setPhotos(photoUrls);\n    }\n    setLoading(false);\n  }, []);\n  useEffect(() => {\n    fetchPhotos();\n  }, [fetchPhotos]);\n  const handleUpload = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const fileName = `${Date.now()}_${file.name}`;\n    const {\n      error: uploadError\n    } = await supabase.storage.from('photos').upload(fileName, file);\n    if (uploadError) {\n      setError('Fehler beim Hochladen des Fotos.');\n    } else {\n      fetchPhotos();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"photo-gallery-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Fotogalerie\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"photo-upload\",\n        className: \"upload-button\",\n        children: \"Foto hochladen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"photo-upload\",\n        type: \"file\",\n        onChange: handleUpload,\n        accept: \"image/*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Lade Fotos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-grid\",\n      children: photos.map(photo => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"photo-item\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: photo.publicUrl,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)\n      }, photo.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n_s(PhotoGallery, \"XbJzOspYWPZP+WrhPrHG115owFg=\");\n_c = PhotoGallery;\nvar _c;\n$RefreshReg$(_c, \"PhotoGallery\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","supabase","jsxDEV","_jsxDEV","PhotoGallery","user","_s","photos","setPhotos","loading","setLoading","error","setError","fetchPhotos","data","storage","from","list","photoUrls","map","file","publicUrl","getPublicUrl","name","handleUpload","e","target","files","fileName","Date","now","uploadError","upload","className","children","_jsxFileName","lineNumber","columnNumber","htmlFor","id","type","onChange","accept","photo","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/Jan/Downloads/Familien App/src/PhotoGallery.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { supabase } from './supabaseClient';\nimport './PhotoGallery.css';\n\nexport default function PhotoGallery({ user }) {\n  const [photos, setPhotos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchPhotos = useCallback(async () => {\n    setLoading(true);\n    const { data, error } = await supabase.storage.from('photos').list();\n    if (error) {\n      setError('Fehler beim Laden der Fotos.');\n      setPhotos([]);\n    } else {\n      const photoUrls = data.map(file => {\n        const { data: { publicUrl } } = supabase.storage.from('photos').getPublicUrl(file.name);\n        return { ...file, publicUrl };\n      });\n      setPhotos(photoUrls);\n    }\n    setLoading(false);\n  }, []);\n\n  useEffect(() => {\n    fetchPhotos();\n  }, [fetchPhotos]);\n\n  const handleUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    const fileName = `${Date.now()}_${file.name}`;\n    const { error: uploadError } = await supabase.storage\n      .from('photos')\n      .upload(fileName, file);\n\n    if (uploadError) {\n      setError('Fehler beim Hochladen des Fotos.');\n    } else {\n      fetchPhotos();\n    }\n  };\n\n  return (\n    <div className=\"photo-gallery-container\">\n      <h2>Fotogalerie</h2>\n      <div className=\"upload-section\">\n        <label htmlFor=\"photo-upload\" className=\"upload-button\">Foto hochladen</label>\n        <input id=\"photo-upload\" type=\"file\" onChange={handleUpload} accept=\"image/*\" />\n      </div>\n\n      {error && <p className=\"error-message\">{error}</p>}\n\n      {loading ? (\n        <p>Lade Fotos...</p>\n      ) : (\n        <div className=\"photo-grid\">\n          {photos.map(photo => (\n            <div key={photo.id} className=\"photo-item\">\n              <img src={photo.publicUrl} alt=\"\" />\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}